
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as p,a as w,o as i,u as s,b9 as R,O as B,e as U,w as o,r as L,ba as G,I as J,J as Z,bb as Q,m as y,bc as W,b as e,K as T,A as u,l as A,n as M,p as P,q as X,t as Y,v as ss,y as x,ap as ts,i as b,k as l,F as k,D as $,E as S,G as es,T as z,H as C,L as N,Z as F,$ as as,a3 as I,a1 as os,a2 as ns,aq as rs,P as cs,ak as E,B as ls,as as is}from"./index-DZhCbklB.js";import{_ as ds}from"./index.vue_vue_type_script_setup_true_lang-DqJE2eQ9.js";import{p as us}from"./index-GW34aOAv.js";const ps=p({__name:"Avatar",props:{class:{},size:{default:"sm"},shape:{default:"circle"}},setup(n){const t=n;return(a,r)=>(i(),w(s(R),{class:B(s(U)(s(ms)({size:a.size,shape:a.shape}),t.class))},{default:o(()=>[L(a.$slots,"default")]),_:3},8,["class"]))}}),fs=p({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{}},setup(n){const t=n;return(a,r)=>(i(),w(s(G),J(Z(t)),{default:o(()=>[L(a.$slots,"default")]),_:3},16))}}),_s=p({__name:"AvatarImage",props:{src:{},referrerPolicy:{},asChild:{type:Boolean},as:{}},setup(n){const t=n;return(a,r)=>(i(),w(s(Q),y(t,{class:"h-full w-full object-cover"}),null,16))}}),ms=W("inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden",{variants:{size:{sm:"h-10 w-10 text-xs",base:"h-16 w-16 text-2xl",lg:"h-32 w-32 text-5xl"},shape:{circle:"rounded-full",square:"rounded-md"}}}),hs=p({__name:"index",props:{src:{},fallback:{},shape:{},class:{}},setup(n){const t=n;return(a,r)=>(i(),w(s(ps),{shape:a.shape,class:B(t.class)},{default:o(()=>[e(s(_s),{src:a.src},null,8,["src"]),e(s(fs),{class:"inline-flex"},{default:o(()=>[L(a.$slots,"default",{},()=>[T(u(a.fallback),1)])]),_:3})]),_:3},8,["shape","class"]))}}),bs={class:"w-full flex-col-stretch-center"},ws={class:"mb-6 space-y-2"},gs={class:"text-4xl color-[var(--el-text-color-primary)] font-bold"},vs={class:"text-sm text-muted-foreground lg:text-base"},O=p({name:"EditPasswordForm",__name:"EditPasswordForm",setup(n){const{t}=A(),a=M(),r=P(!1),m=X({validationSchema:Y(ss({password:x().min(1,t("rules.password")),newPassword:x().min(1,t("rules.newPassword")).min(6,t("rules.passwordLength")).max(18,t("rules.passwordLength")),checkPassword:x().min(1,t("rules.checkPassword"))}).refine(c=>c.newPassword===c.checkPassword,{message:t("rules.checkPasswordError"),path:["checkPassword"]})),initialValues:{password:"",newPassword:"",checkPassword:""}}).handleSubmit(c=>{r.value=!0,a.editPassword(c).then(async()=>{ts.success("模拟修改成功，请重新登录"),a.logout()}).finally(()=>{r.value=!1})});return(c,g)=>{const f=es,v=N;return i(),b("div",bs,[l("div",ws,[l("h3",gs,u(s(t)("intro")),1),l("p",vs,u(s(t)("subIntro")),1)]),l("form",{onSubmit:g[0]||(g[0]=(...d)=>s(m)&&s(m)(...d))},[e(s(k),{name:"password"},{default:o(({componentField:d,errors:h})=>[e(s($),{class:"relative pb-6 space-y-0"},{default:o(()=>[e(s(S),null,{default:o(()=>[e(f,y({type:"password",placeholder:s(t)("form.password"),class:["w-full",h.length&&"border-destructive"]},d),null,16,["placeholder","class"])]),_:2},1024),e(z,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:o(()=>[e(s(C),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),e(s(k),{name:"newPassword"},{default:o(({componentField:d,errors:h})=>[e(s($),{class:"relative pb-6 space-y-0"},{default:o(()=>[e(s(S),null,{default:o(()=>[e(f,y({type:"password",placeholder:s(t)("form.newPassword"),class:["w-full",h.length&&"border-destructive"]},d),null,16,["placeholder","class"])]),_:2},1024),e(z,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:o(()=>[e(s(C),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),e(s(k),{name:"checkPassword"},{default:o(({componentField:d,errors:h})=>[e(s($),{class:"relative pb-6 space-y-0"},{default:o(()=>[e(s(S),null,{default:o(()=>[e(f,y({type:"password",placeholder:s(t)("form.checkPassword"),class:["w-full",h.length&&"border-destructive"]},d),null,16,["placeholder","class"])]),_:2},1024),e(z,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:o(()=>[e(s(C),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),e(v,{loading:s(r),size:"lg",class:"mt-8 w-full",type:"submit"},{default:o(()=>[T(u(s(t)("form.save")),1)]),_:1},8,["loading"])],32)])}}});function V(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{"zh-cn":{intro:{t:0,b:{t:2,i:[{t:3}],s:"修改密码"}},subIntro:{t:0,b:{t:2,i:[{t:3}],s:"请输入原密码、新密码和确认密码"}},form:{password:{t:0,b:{t:2,i:[{t:3}],s:"原密码"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"新密码"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"确认密码"}},save:{t:0,b:{t:2,i:[{t:3}],s:"保存"}}},rules:{password:{t:0,b:{t:2,i:[{t:3}],s:"请输入原密码"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"请输入新密码"}},passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"密码长度为6到18位"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"请确认新密码"}},checkPasswordError:{t:0,b:{t:2,i:[{t:3}],s:"两次输入的密码不一致"}}}},"zh-tw":{intro:{t:0,b:{t:2,i:[{t:3}],s:"修改密碼"}},subIntro:{t:0,b:{t:2,i:[{t:3}],s:"請輸入原密碼、新密碼和確認密碼"}},form:{password:{t:0,b:{t:2,i:[{t:3}],s:"原密碼"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"新密碼"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"確認新密碼"}},save:{t:0,b:{t:2,i:[{t:3}],s:"保存"}}},rules:{password:{t:0,b:{t:2,i:[{t:3}],s:"請輸入原密碼"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"請輸入新密碼"}},passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"密碼長度為6到18位"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"請確認新密碼"}},checkPasswordError:{t:0,b:{t:2,i:[{t:3}],s:"兩次輸入的密碼不一致"}}}},en:{intro:{t:0,b:{t:2,i:[{t:3}],s:"Modify Password"}},subIntro:{t:0,b:{t:2,i:[{t:3}],s:"Please enter the original password, new password and confirm password"}},form:{password:{t:0,b:{t:2,i:[{t:3}],s:"Original Password"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"New Password"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"Confirm New Password"}},save:{t:0,b:{t:2,i:[{t:3}],s:"Save"}}},rules:{password:{t:0,b:{t:2,i:[{t:3}],s:"Please enter the original password"}},newPassword:{t:0,b:{t:2,i:[{t:3}],s:"Please enter the new password"}},passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"Password length is 6 to 18 characters"}},checkPassword:{t:0,b:{t:2,i:[{t:3}],s:"Please confirm the new password"}},checkPasswordError:{t:0,b:{t:2,i:[{t:3}],s:"The two passwords do not match"}}}}}})}typeof V=="function"&&V(O);const ys={class:"min-h-full w-full"},Ps={class:"fixed inset-s-0 bottom-0 top-0 h-full w-40 border-e"},xs=["onClick"],ks={class:"text-base text-accent-foreground leading-tight"},$s={class:"text-xs text-accent-foreground/50"},Ss={class:"ms-40 min-h-full flex-col-center p-10"},zs={key:0},Cs=p({__name:"profile",setup(n){const t=P(0),a=P([{title:"基本设置",description:"账号的基本信息，头像、昵称等"},{title:"安全设置",description:"定期修改密码可以提高帐号安全性"}]);return(r,_)=>(i(),b("div",ys,[l("div",Ps,[(i(!0),b(F,null,as(s(a),(m,c)=>(i(),b("div",{key:c,class:B(["cursor-pointer px-4 py-3 transition-background-color space-y-2 hover-bg-accent/50",{"bg-accent hover-bg-accent!":s(t)===c}]),onClick:g=>t.value=c},[l("div",ks,u(m.title),1),l("div",$s,u(m.description),1)],10,xs))),128))]),l("div",Ss,[s(t)===0?(i(),b("div",zs," 请开发者自行扩展 ")):I("",!0),s(t)===1?(i(),w(O,{key:1})):I("",!0)])]))}}),Fs={class:"space-y-2"},Is={class:"text-xs text-secondary-foreground/50 font-light"},Bs={class:"flex-center-start gap-2"},Ls={class:"space-y-1"},Ts={class:"text-base lh-none"},q=p({__name:"index",setup(n){const t=os(),a=ns(),r=M(),{t:_}=A(),{generateI18nTitle:m}=rs(),c=P(!1);return(g,f)=>{const v=hs,d=cs,h=N,D=ds,H=is;return i(),b(F,null,[e(D,{align:"end",items:[[{label:s(m)(s(a).settings.home.title),icon:"i-mdi:home",handle:()=>s(t).push({path:s(a).settings.home.fullPath}),hide:!s(a).settings.home.enable},{label:s(_)("profile"),icon:"i-mdi:account",handle:()=>c.value=!0},{label:s(_)("preferences"),icon:"i-mdi:cog",handle:()=>s(E).emit("global-preferences-toggle"),hide:!s(a).settings.userPreferences.enable}],[{label:s(_)("hotkeys"),icon:"i-mdi:keyboard",handle:()=>s(E).emit("global-hotkeys-intro-toggle"),hide:s(a).mode!=="pc"}],[{label:s(_)("logout"),icon:"i-mdi:logout",handle:()=>s(r).logout(s(a).settings.home.fullPath)}]],class:"flex-center"},{label:o(()=>[l("div",Fs,[l("div",Is,u(s(_)("current_account")),1),l("div",Bs,[e(v,{src:s(r).avatar,fallback:s(r).account.slice(0,5),shape:"square"},null,8,["src","fallback"]),l("div",Ls,[l("div",Ts,u(s(r).account),1),f[1]||(f[1]=l("div",{class:"text-xs text-secondary-foreground/50 font-normal"}," 这里可以显示邮箱 ",-1))])])])]),default:o(()=>[e(h,{variant:"ghost",class:"h-9 flex-center gap-1 px-2"},{default:o(()=>[e(v,{src:s(r).avatar,class:"size-6"},{default:o(()=>[e(d,{name:"i-carbon:user-avatar-filled-alt",class:"size-6 text-secondary-foreground/50"})]),_:1},8,["src"]),s(a).mode==="pc"?(i(),b(F,{key:0},[T(u(s(r).account)+" ",1),e(d,{name:"i-ep:caret-bottom"})],64)):I("",!0)]),_:1})]),_:1},8,["items"]),e(H,{modelValue:s(c),"onUpdate:modelValue":f[0]||(f[0]=K=>ls(c)?c.value=K:null),"align-center":"",header:!1,footer:!1,"close-on-click-overlay":!1,"close-on-press-escape":!1,class:"h-500px min-w-600px overflow-hidden","content-class":"min-h-full p-0 flex"},{default:o(()=>[e(Cs)]),_:1},8,["modelValue"])],64)}}});function j(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{"zh-cn":{profile:{t:0,b:{t:2,i:[{t:3}],s:"个人设置"}},preferences:{t:0,b:{t:2,i:[{t:3}],s:"偏好设置"}},hotkeys:{t:0,b:{t:2,i:[{t:3}],s:"快捷键介绍"}},logout:{t:0,b:{t:2,i:[{t:3}],s:"退出登录"}},current_account:{t:0,b:{t:2,i:[{t:3}],s:"当前登录账号"}}},"zh-tw":{profile:{t:0,b:{t:2,i:[{t:3}],s:"個人設置"}},preferences:{t:0,b:{t:2,i:[{t:3}],s:"偏好設置"}},hotkeys:{t:0,b:{t:2,i:[{t:3}],s:"快捷鍵介紹"}},logout:{t:0,b:{t:2,i:[{t:3}],s:"退出登錄"}},current_account:{t:0,b:{t:2,i:[{t:3}],s:"當前登錄帳號"}}},en:{profile:{t:0,b:{t:2,i:[{t:3}],s:"Personal Settings"}},preferences:{t:0,b:{t:2,i:[{t:3}],s:"Preferences"}},hotkeys:{t:0,b:{t:2,i:[{t:3}],s:"Hotkeys Introduction"}},logout:{t:0,b:{t:2,i:[{t:3}],s:"Logout"}},current_account:{t:0,b:{t:2,i:[{t:3}],s:"Current Login Account"}}}}})}typeof j=="function"&&j(q);const Es=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));function Vs(n){const t=Object.assign({"./ToolbarEnd/index.vue":Es}),a=`./${us(n)}/index.vue`,r=t[a];return r||{default:p({name:"SlotsInvalidComponent",render:()=>null})}}function Ns(n){const t=Vs(n);return p(t.default)}export{Ns as u};
//# sourceMappingURL=index-CrUeRdkP.js.map
