
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as H,a0 as K,a2 as W,ac as z,aq as J,p as Y,Y as Z,a as L,a3 as Q,u as b,o as N,w as P,b as X,aO as ee,i as te,Z as ne,$ as re,K as se,A as ae,O as oe,a4 as ie}from"./index-DZhCbklB.js";import ue from"./index-BRIsJyTH.js";import{_ as ce}from"./item.vue_vue_type_script_setup_true_lang-DaRyTSj1.js";var h={},U;function le(){if(U)return h;U=1,Object.defineProperty(h,"__esModule",{value:!0}),h.TokenData=void 0,h.parse=D,h.compile=d,h.match=j,h.pathToRegexp=O,h.stringify=B;const A="/",y=n=>n,c=/^[$_\p{ID_Start}]$/u,$=/^[$\u200c\u200d\p{ID_Continue}]$/u,C="https://git.new/pathToRegexpError",x={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function I(n){return n.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function u(n){return n.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*g(n){const t=[...n];let e=0;function a(){let r="";if(c.test(t[++e]))for(r+=t[e];$.test(t[++e]);)r+=t[e];else if(t[e]==='"'){let s=e;for(;e<t.length;){if(t[++e]==='"'){e++,s=0;break}t[e]==="\\"?r+=t[++e]:r+=t[e]}if(s)throw new TypeError(`Unterminated quote at ${s}: ${C}`)}if(!r)throw new TypeError(`Missing parameter name at ${e}: ${C}`);return r}for(;e<t.length;){const r=t[e],s=x[r];if(s)yield{type:s,index:e++,value:r};else if(r==="\\")yield{type:"ESCAPED",index:e++,value:t[e++]};else if(r===":"){const i=a();yield{type:"PARAM",index:e,value:i}}else if(r==="*"){const i=a();yield{type:"WILDCARD",index:e,value:i}}else yield{type:"CHAR",index:e,value:t[e++]}}return{type:"END",index:e,value:""}}class f{constructor(t){this.tokens=t}peek(){if(!this._peek){const t=this.tokens.next();this._peek=t.value}return this._peek}tryConsume(t){const e=this.peek();if(e.type===t)return this._peek=void 0,e.value}consume(t){const e=this.tryConsume(t);if(e!==void 0)return e;const{type:a,index:r}=this.peek();throw new TypeError(`Unexpected ${a} at ${r}, expected ${t}: ${C}`)}text(){let t="",e;for(;e=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)t+=e;return t}}class m{constructor(t){this.tokens=t}}h.TokenData=m;function D(n,t={}){const{encodePath:e=y}=t,a=new f(g(n));function r(i){const o=[];for(;;){const l=a.text();l&&o.push({type:"text",value:e(l)});const p=a.tryConsume("PARAM");if(p){o.push({type:"param",name:p});continue}const S=a.tryConsume("WILDCARD");if(S){o.push({type:"wildcard",name:S});continue}if(a.tryConsume("{")){o.push({type:"group",tokens:r("}")});continue}return a.consume(i),o}}const s=r("END");return new m(s)}function d(n,t={}){const{encode:e=encodeURIComponent,delimiter:a=A}=t,r=n instanceof m?n:D(n,t),s=_(r.tokens,a,e);return function(o={}){const[l,...p]=s(o);if(p.length)throw new TypeError(`Missing parameters: ${p.join(", ")}`);return l}}function _(n,t,e){const a=n.map(r=>w(r,t,e));return r=>{const s=[""];for(const i of a){const[o,...l]=i(r);s[0]+=o,s.push(...l)}return s}}function w(n,t,e){if(n.type==="text")return()=>[n.value];if(n.type==="group"){const r=_(n.tokens,t,e);return s=>{const[i,...o]=r(s);return o.length?[""]:[i]}}const a=e||y;return n.type==="wildcard"&&e!==!1?r=>{const s=r[n.name];if(s==null)return["",n.name];if(!Array.isArray(s)||s.length===0)throw new TypeError(`Expected "${n.name}" to be a non-empty array`);return[s.map((i,o)=>{if(typeof i!="string")throw new TypeError(`Expected "${n.name}/${o}" to be a string`);return a(i)}).join(t)]}:r=>{const s=r[n.name];if(s==null)return["",n.name];if(typeof s!="string")throw new TypeError(`Expected "${n.name}" to be a string`);return[a(s)]}}function j(n,t={}){const{decode:e=decodeURIComponent,delimiter:a=A}=t,{regexp:r,keys:s}=O(n,t),i=s.map(o=>e===!1?y:o.type==="param"?e:l=>l.split(a).map(e));return function(l){const p=r.exec(l);if(!p)return!1;const S=p[0],v=Object.create(null);for(let E=1;E<p.length;E++){if(p[E]===void 0)continue;const T=s[E-1],M=i[E-1];v[T.name]=M(p[E])}return{path:S,params:v}}}function O(n,t={}){const{delimiter:e=A,end:a=!0,sensitive:r=!1,trailing:s=!0}=t,i=[],o=[],l=r?"":"i",S=(Array.isArray(n)?n:[n]).map(T=>T instanceof m?T:D(T,t));for(const{tokens:T}of S)for(const M of R(T,0,[])){const G=k(M,e,i);o.push(G)}let v=`^(?:${o.join("|")})`;return s&&(v+=`(?:${u(e)}$)?`),v+=a?"$":`(?=${u(e)}|$)`,{regexp:new RegExp(v,l),keys:i}}function*R(n,t,e){if(t===n.length)return yield e;const a=n[t];if(a.type==="group"){const r=e.slice();for(const s of R(a.tokens,0,r))yield*R(n,t+1,s)}else e.push(a);yield*R(n,t+1,e)}function k(n,t,e){let a="",r="",s=!0;for(let i=0;i<n.length;i++){const o=n[i];if(o.type==="text"){a+=u(o.value),r+=o.value,s||(s=o.value.includes(t));continue}if(o.type==="param"||o.type==="wildcard"){if(!s&&!r)throw new TypeError(`Missing text after "${o.name}": ${C}`);o.type==="param"?a+=`(${q(t,s?"":r)}+)`:a+="([\\s\\S]+)",e.push(o),r="",s=!1;continue}}return a}function q(n,t){return t.length<2?n.length<2?`[^${u(n+t)}]`:`(?:(?!${u(n)})[^${u(t)}])`:n.length<2?`(?:(?!${u(t)})[^${u(n)}])`:`(?:(?!${u(t)}|${u(n)})[\\s\\S])`}function B(n){return n.tokens.map(function t(e,a,r){if(e.type==="text")return I(e.value);if(e.type==="group")return`{${e.tokens.map(t).join("")}}`;const i=V(e.name)&&F(r[a+1])?e.name:JSON.stringify(e.name);if(e.type==="param")return`:${i}`;if(e.type==="wildcard")return`*${i}`;throw new TypeError(`Unexpected token: ${e}`)}).join("")}function V(n){const[t,...e]=n;return c.test(t)?e.every(a=>$.test(a)):!1}function F(n){return(n==null?void 0:n.type)!=="text"?!0:!$.test(n.value[0])}return h}var pe=le();const fe=H({name:"Breadcrumb",__name:"index",setup(A){const y=K(),c=W(),$=z(),{generateI18nTitle:C}=J(),x=Y([]);Z(()=>y.fullPath,u=>{var m,D;if(y.name==="reload")return;const g=[];if(c.settings.home.enable&&g.push({path:c.settings.home.fullPath,title:c.settings.home.title}),u!==c.settings.home.fullPath&&c.settings.breadcrumb.enableMainMenu&&!["single"].includes(c.settings.menu.mode)){const d=$.allMenus.findIndex(_=>_.children.some(w=>u.indexOf(`${w.path}/`)===0||u===w.path));(m=$.allMenus[d])!=null&&m.meta&&g.push({path:"",title:(D=$.allMenus[d].meta)==null?void 0:D.title})}y.matched.forEach(d=>{var _,w;((_=d.meta)==null?void 0:_.breadcrumb)!==!1&&g.push({path:d.path,title:(w=d.meta)==null?void 0:w.title})});const f=c.customTitleList.find(d=>d.fullPath===u);f&&(x.value[x.value.length-1].title=f.title),x.value=g},{immediate:!0});function I(u){return pe.compile(u)(y.params)}return(u,g)=>b(c).mode==="pc"&&b(c).settings.app.routeBaseOn!=="filesystem"?(N(),L(ue,{key:0,class:oe(["breadcrumb whitespace-nowrap px-2",{[`breadcrumb-${b(c).settings.breadcrumb.style}`]:b(c).settings.breadcrumb.style!==""}])},{default:P(()=>[X(ee,{name:"breadcrumb"},{default:P(()=>[(N(!0),te(ne,null,re(b(x),(f,m)=>(N(),L(ce,{key:`${m}_${f.path}_${f.title}`,to:m<b(x).length-1&&f.path!==""?I(f.path):""},{default:P(()=>[se(ae(b(C)(f.title)),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1},8,["class"])):Q("",!0)}}),ye=ie(fe,[["__scopeId","data-v-2f34b7ca"]]);export{ye as default};
//# sourceMappingURL=index-DYTdxnu8.js.map
