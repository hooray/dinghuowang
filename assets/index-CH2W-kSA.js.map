{"version":3,"file":"index-CH2W-kSA.js","sources":["../../src/layouts/components/Topbar/Toolbar/PageReload/index.vue"],"sourcesContent":["<i18n lang=\"json\">\n{\n  \"zh-cn\": {\n    \"tooltip1\": \"按住 {0} 键并点击\",\n    \"tooltip2\": \"可切换为浏览器原生刷新\"\n  },\n  \"zh-tw\": {\n    \"tooltip1\": \"按住 {0} 鍵並點擊\",\n    \"tooltip2\": \"可切換為瀏覽器原生刷新\"\n  },\n  \"en\": {\n    \"tooltip1\": \"Click while holding {0}\",\n    \"tooltip2\": \"to switch to native browser refresh\"\n  }\n}\n</i18n>\n\n<script setup lang=\"ts\">\nimport useSettingsStore from '@/store/modules/settings'\nimport hotkeys from 'hotkeys-js'\nimport { useI18n } from 'vue-i18n'\n\ndefineOptions({\n  name: 'PageReload',\n})\n\nconst settingsStore = useSettingsStore()\nconst { t } = useI18n()\n\nconst mainPage = useMainPage()\n\nconst isAnimating = ref(false)\n\nonMounted(() => {\n  hotkeys('f5', (e) => {\n    e.preventDefault()\n    mainPage.reload()\n  })\n})\nonUnmounted(() => {\n  hotkeys.unbind('f5')\n})\n\nfunction handleClick() {\n  isAnimating.value = true\n  mainPage.reload()\n}\n\nfunction handleCtrlClick() {\n  location.reload()\n}\n</script>\n\n<template>\n  <FaTooltip side=\"bottom\" :disabled=\"settingsStore.os === 'mac'\">\n    <template #content>\n      <div class=\"flex-col-center gap-2\">\n        <i18n-t keypath=\"tooltip1\" tag=\"p\" class=\"flex-center gap-1\">\n          <FaKbd>Ctrl</FaKbd>\n        </i18n-t>\n        <p>{{ t('tooltip2') }}</p>\n      </div>\n    </template>\n    <FaButton variant=\"ghost\" size=\"icon\" class=\"w-auto px-2\" @click.exact=\"handleClick\" @click.ctrl.exact=\"handleCtrlClick\" @animationend=\"isAnimating = false\">\n      <FaIcon name=\"i-iconoir:refresh-double\" class=\"size-4\" :class=\"{ animation: isAnimating }\" />\n      刷新\n    </FaButton>\n  </FaTooltip>\n</template>\n\n<style scoped>\n.animation {\n  animation: animation 1s;\n}\n\n@keyframes animation {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n"],"names":["settingsStore","useSettingsStore","t","useI18n","mainPage","useMainPage","isAnimating","ref","onMounted","hotkeys","e","onUnmounted","handleClick","handleCtrlClick"],"mappings":"ufA0BA,MAAMA,EAAgBC,EAAiB,EACjC,CAAE,EAAAC,CAAE,EAAIC,EAAQ,EAEhBC,EAAWC,EAAY,EAEvBC,EAAcC,EAAI,EAAK,EAE7BC,EAAU,IAAM,CACNC,EAAA,KAAOC,GAAM,CACnBA,EAAE,eAAe,EACjBN,EAAS,OAAO,CAAA,CACjB,CAAA,CACF,EACDO,EAAY,IAAM,CAChBF,EAAQ,OAAO,IAAI,CAAA,CACpB,EAED,SAASG,GAAc,CACrBN,EAAY,MAAQ,GACpBF,EAAS,OAAO,CAAA,CAGlB,SAASS,GAAkB,CACzB,SAAS,OAAO,CAAA"}