
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as P,S as G,a as _,o,u as t,be as pt,I as H,J as q,w as f,r as w,c as x,bf as ft,b as g,bg as ht,m as A,e as V,bh as mt,bi as _t,bj as gt,bk as kt,U as vt,bl as yt,b2 as xt,i as v,a3 as $,Z as R,$ as E,K as it,P as ot,A as L,bm as Ct,a0 as Pt,a1 as wt,a2 as St,a6 as It,bn as $t,l as Tt,aq as Bt,aj as U,p as Mt,a8 as Y,Y as Z,ad as Q,ae as zt,k as C,ag as X,ar as Rt,O as j,aO as Lt,z as Ot,bo as F,C as Dt,aa as Nt,s as tt,ap as et,a4 as Wt}from"./index-BOWTWvO-.js";import{_ as Ft}from"./index.vue_vue_type_script_setup_true_lang-DaYeyS1R.js";import{u as at}from"./index-9Slc17Md.js";import{S as At}from"./sortable.esm-C83syoBY.js";import Vt from"./moreAction-BtIcquqF.js";import{u as Kt}from"./useTabbar-PPf-ZmCP.js";import{u as Ut}from"./useMainPage-Eze-vJhv.js";import"./index.vue_vue_type_script_setup_true_lang-Bu1LRNYw.js";import"./index-GW34aOAv.js";import"./index.vue_vue_type_script_setup_true_lang-Dh0KAiWK.js";import"./index-RKlUGH8s.js";const jt=P({__name:"ContextMenu",props:{dir:{},modal:{type:Boolean}},emits:["update:open"],setup(p,{emit:r}){const a=G(p,r);return(d,c)=>(o(),_(t(pt),H(q(t(a))),{default:f(()=>[w(d.$slots,"default")]),_:3},16))}}),Et=P({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(p,{emit:r}){const l=p,n=r,a=x(()=>{const{class:c,...m}=l;return m}),d=G(a,n);return(c,m)=>(o(),_(t(ft),null,{default:f(()=>[g(t(ht),A(t(d),{class:t(V)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:f(()=>[w(c.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Gt=P({__name:"ContextMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(p){const r=p;return(l,n)=>(o(),_(t(mt),H(q(r)),{default:f(()=>[w(l.$slots,"default")]),_:3},16))}}),Ht=P({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(p,{emit:r}){const l=p,n=r,a=x(()=>{const{class:c,...m}=l;return m}),d=G(a,n);return(c,m)=>(o(),_(t(_t),A(t(d),{class:t(V)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",c.inset&&"pl-8",l.class)}),{default:f(()=>[w(c.$slots,"default")]),_:3},16,["class"]))}}),qt=P({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(p){const r=p,l=x(()=>{const{class:n,...a}=r;return a});return(n,a)=>(o(),_(t(gt),A(l.value,{class:t(V)("px-2 py-1.5 text-sm font-semibold text-foreground",n.inset&&"pl-8",r.class)}),{default:f(()=>[w(n.$slots,"default")]),_:3},16,["class"]))}}),st=P({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(p){const r=p,l=x(()=>{const{class:n,...a}=r;return a});return(n,a)=>(o(),_(t(kt),A(l.value,{class:t(V)("-mx-1 my-1 h-px bg-border",r.class)}),null,16,["class"]))}}),Jt=P({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(p){const l=vt(p);return(n,a)=>(o(),_(t(yt),H(q(t(l))),{default:f(()=>[w(n.$slots,"default")]),_:3},16))}}),Yt={key:0,class:"size-4 flex-center"},Zt=P({name:"FaContextMenu",__name:"index",props:{items:{}},setup(p){const r=p,l=xt(),n=x(()=>r.items.map(c=>c.filter(m=>!m.hide)).filter(c=>c.length)),a=x(()=>n.value.some(c=>c.some(m=>m.icon)));function d(c){var m;(m=c.handle)==null||m.call(c)}return(c,m)=>{const k=ot;return o(),_(t(jt),{modal:!1},{default:f(()=>[g(t(Jt),{"as-child":""},{default:f(()=>[w(c.$slots,"default")]),_:3}),g(t(Et),{class:"z-1050"},{default:f(()=>[l.label?(o(),v(R,{key:0},[g(t(qt),null,{default:f(()=>[w(c.$slots,"label")]),_:3}),g(t(st))],64)):$("",!0),(o(!0),v(R,null,E(t(n),(O,h)=>(o(),v(R,{key:h},[g(t(Gt),null,{default:f(()=>[(o(!0),v(R,null,E(O,(S,T)=>(o(),_(t(Ht),{key:T,disabled:S.disabled,class:"cursor-pointer",onClick:D=>d(S)},{default:f(()=>[t(a)?(o(),v("div",Yt,[S.icon?(o(),_(k,{key:0,name:S.icon,class:"size-4"},null,8,["name"])):$("",!0)])):$("",!0),it(" "+L(S.label),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:2},1024),h!==t(n).length-1?(o(),_(t(st),{key:0})):$("",!0)],64))),128))]),_:3})]),_:3})}}}),Qt={class:"tabbar"},Xt={class:"tabbar-container"},te=["data-index","onClick","onDblclick"],ee={class:"size-full"},ae={class:"tab-content"},se=["onClick"],ne=["onClick"],ie={class:"text-sm"},oe={class:"text-accent-foreground/50"},lt=P({name:"Tabbar",__name:"index",setup(p){Ct(e=>({dc550e02:t(dt),dbee3b3a:t(ct)}));const r=Pt(),l=wt(),n=St(),a=It(),d=Kt(),c=Ut(),m=$t({reactive:!0}),{t:k}=Tt(),{generateI18nTitle:O}=Bt(),h=x(()=>d.getId()),S=x(()=>a.list.length>1&&(d.checkCloseOtherSide()||d.checkCloseLeftSide()||d.checkCloseRightSide())),T=U("tabsRef"),D=U("tabContainerRef"),B=U("tabRef"),dt=x(()=>{var s,b;const e=a.list.findIndex(u=>u.tabId===h.value);return`${((b=(s=B.value)==null?void 0:s.find(u=>Number.parseInt(u.dataset.index)===e))==null?void 0:b.offsetLeft)||0}px`}),ct=x(()=>{var s,b;const e=a.list.findIndex(u=>u.tabId===h.value);return`${((b=(s=B.value)==null?void 0:s.find(u=>Number.parseInt(u.dataset.index)===e))==null?void 0:b.offsetWidth)||0}px`}),N=Mt(!1);let W;Y(()=>{var e;W=new At((e=D.value)==null?void 0:e.$el,{animation:200,ghostClass:"opacity-0",draggable:".tab",handle:".drag-handle",onStart:()=>{N.value=!0},onEnd:()=>{N.value=!1},onMove:s=>s.dragged.classList.contains("pinned")?s.related.classList.contains("pinned"):!s.related.classList.contains("pinned"),onUpdate:s=>{s.newIndex!==void 0&&s.oldIndex!==void 0&&a.sort(s.newIndex,s.oldIndex)}})}),Z([()=>n.mode,()=>n.settings.app.direction],e=>{Nt(()=>{W==null||W.option("disabled",e[0]==="mobile"||e[1]==="rtl")})},{immediate:!0}),Z(()=>r,e=>{n.settings.tabbar.enable&&a.add(e).then(()=>{var b,u;const s=a.list.findIndex(y=>y.tabId===h.value);s!==-1&&(B.value&&((u=T.value)==null||u.scrollTo(B.value[s].offsetLeft-((b=T.value.ref)==null?void 0:b.$el.clientWidth)*.4)),rt())})},{immediate:!0,deep:!0});function rt(){var e,s,b;if(((e=D.value)==null?void 0:e.$el.clientWidth)>(((b=(s=T.value)==null?void 0:s.ref)==null?void 0:b.$el.clientWidth)??0)&&!tt.local.has("tabbarScrollTip")){tt.local.set("tabbarScrollTip","");const u=et.info("温馨提示",{description:"标签栏数量超过展示区域范围，可以将鼠标移到标签栏上，通过鼠标滚轮滑动浏览",position:"top-center",duration:1/0,action:{label:"知道了",onClick:()=>et.dismiss(u)}})}}function bt(e){switch(n.settings.tabbar.dblclickAction){case"reload":c.reload();break;case"close":d.closeById(e.tabId);break;case"pin":e.isPin?a.unPin(e.tabId):a.pin(e.tabId);break;case"maximize":n.setMainPageMaximize();break;case"window":window.open(l.resolve(e.fullPath).href,"_blank");break}}function ut(e){return[[{label:k("reload"),icon:"i-ri:refresh-line",disabled:e.tabId!==h.value,handle:()=>c.reload()},{label:k("close"),icon:"i-ri:close-line",disabled:!d.checkClose(e.tabId),handle:()=>d.closeById(e.tabId)}],[{label:e.isPin?k("unpin"):k("pin"),icon:e.isPin?"i-lucide:pin-off":"i-lucide:pin",disabled:e.fullPath===n.settings.home.fullPath||e.isPermanent,handle:()=>e.isPin?a.unPin(e.tabId):a.pin(e.tabId)},{label:k("maximize"),icon:"i-ri:picture-in-picture-exit-line",handle:()=>{e.tabId!==h.value&&l.push(e.fullPath),n.setMainPageMaximize()}},{label:k("newWindow"),icon:"i-ci:window",handle:()=>{window.open(l.resolve(e.fullPath).href,"_blank")}}],[{label:k("closeOtherSide"),disabled:!d.checkCloseOtherSide(e.tabId),handle:()=>{d.closeOtherSide(e.tabId)}},{label:k("closeLeftSide"),disabled:!d.checkCloseLeftSide(e.tabId),handle:()=>{d.closeLeftSide(e.tabId)}},{label:k("closeRightSide"),disabled:!d.checkCloseRightSide(e.tabId),handle:()=>{d.closeRightSide(e.tabId)}}]]}function J(e,s,b){let u;return!e&&s||e&&!b?u=s:e&&b&&(u=b),u}return Y(()=>{Q("alt+left,alt+right,alt+w,alt+1,alt+2,alt+3,alt+4,alt+5,alt+6,alt+7,alt+8,alt+9,alt+0",(e,s)=>{var b,u;if(n.settings.tabbar.enable&&n.settings.tabbar.enableHotkeys)switch(e.preventDefault(),s.key){case"alt+left":if(a.list[0].tabId!==h.value){const y=a.list.findIndex(M=>M.tabId===h.value);l.push(a.list[y-1].fullPath)}break;case"alt+right":if(((b=a.list.at(-1))==null?void 0:b.tabId)!==h.value){const y=a.list.findIndex(M=>M.tabId===h.value);l.push(a.list[y+1].fullPath)}break;case"alt+w":d.closeById(h.value);break;case"alt+1":case"alt+2":case"alt+3":case"alt+4":case"alt+5":case"alt+6":case"alt+7":case"alt+8":case"alt+9":{const y=Number(s.key.split("+")[1]);(u=a.list[y-1])!=null&&u.fullPath&&l.push(a.list[y-1].fullPath);break}case"alt+0":l.push(a.list[a.list.length-1].fullPath);break}})}),zt(()=>{Q.unbind("alt+left,alt+right,alt+w,alt+1,alt+2,alt+3,alt+4,alt+5,alt+6,alt+7,alt+8,alt+9,alt+0")}),(e,s)=>{const b=ot,u=Ft,y=Zt,M=Rt;return o(),v("div",Qt,[(o(),_(X(t(at)("tabbar-start")))),C("div",Xt,[g(M,{ref_key:"tabsRef",ref:T,horizontal:"",scrollbar:!1,mask:"","gradient-color":"var(--g-tabbar-bg)",class:j(["tabs",{"tabs-ontop":t(n).settings.topbar.switchTabbarAndToolbar,[`tabs-${t(n).settings.tabbar.style}`]:t(n).settings.tabbar.style!==""}])},{default:f(()=>[g(Lt,{ref_key:"tabContainerRef",ref:D,name:t(N)?void 0:"tabbar",tag:"div",class:j(["tab-container",{dragging:t(N)}])},{default:f(()=>[(o(!0),v(R,null,E(t(a).list,(i,K)=>(o(),v("div",{key:t(n).settings.tabbar.mergeTabsBy==="routeName"&&i.routeName?i.routeName:i.tabId,ref_for:!0,ref_key:"tabRef",ref:B,"data-index":K,class:j(["tab",{"tab-ontop":t(n).settings.topbar.switchTabbarAndToolbar,actived:i.tabId===t(h),pinned:i.isPermanent||i.isPin}]),onClick:I=>t(l).push(i.fullPath),onDblclick:I=>bt(i)},[g(y,{items:ut(i)},{default:f(()=>[C("div",ee,[s[3]||(s[3]=C("div",{class:"tab-dividers"},null,-1)),s[4]||(s[4]=C("div",{class:"tab-background"},null,-1)),g(u,{delay:1e3,side:"bottom"},{content:f(()=>{var I;return[C("div",ie,L(((I=i.customTitleList.find(z=>z.fullPath===i.fullPath))==null?void 0:I.title)||t(O)(i.title)),1),C("div",oe,L(i.fullPath),1)]}),default:f(()=>{var I;return[C("div",ae,[(o(),v("div",{key:i.tabId,class:"title"},[t(n).settings.tabbar.enableIcon&&J(i.tabId===t(h),i.icon,i.activeIcon)?(o(),_(b,{key:0,name:J(i.tabId===t(h),i.icon,i.activeIcon),class:"icon"},null,8,["name"])):$("",!0),it(" "+L(((I=i.customTitleList.find(z=>z.fullPath===i.fullPath))==null?void 0:I.title)||t(O)(i.title)),1)])),!i.isPermanent&&i.isPin?(o(),v("div",{key:0,class:"action-icon",onClick:F(z=>t(a).unPin(i.tabId),["stop"]),onDblclick:s[0]||(s[0]=F(()=>{},["stop"]))},[g(b,{name:"i-ri:pushpin-2-fill"})],40,se)):!i.isPermanent&&t(a).list.length>1?(o(),v("div",{key:1,class:"action-icon",onClick:F(z=>t(d).closeById(i.tabId),["stop"]),onDblclick:s[1]||(s[1]=F(()=>{},["stop"]))},[g(b,{name:"i-ri:close-fill"})],40,ne)):$("",!0),Ot(C("div",{class:"hotkey-number"},L(K+1),513),[[Dt,t(m).alt&&K<9]]),s[2]||(s[2]=C("div",{class:"drag-handle"},null,-1))])]}),_:2},1024)])]),_:2},1032,["items"])],42,te))),128))]),_:1},8,["name","class"])]),_:1},8,["class"]),t(S)?(o(),_(Vt,{key:0,class:"absolute end-0 top-0 z-10 h-full w-50px flex-center"})):$("",!0)]),(o(),_(X(t(at)("tabbar-end"))))])}}});function nt(p){const r=p;r.__i18n=r.__i18n||[],r.__i18n.push({locale:"",resource:{"zh-cn":{reload:{t:0,b:{t:2,i:[{t:3}],s:"重新加载"}},close:{t:0,b:{t:2,i:[{t:3}],s:"关闭标签页"}},pin:{t:0,b:{t:2,i:[{t:3}],s:"固定"}},unpin:{t:0,b:{t:2,i:[{t:3}],s:"取消固定"}},maximize:{t:0,b:{t:2,i:[{t:3}],s:"最大化"}},newWindow:{t:0,b:{t:2,i:[{t:3}],s:"新窗口中打开"}},closeOtherSide:{t:0,b:{t:2,i:[{t:3}],s:"关闭其它标签页"}},closeLeftSide:{t:0,b:{t:2,i:[{t:3}],s:"关闭左侧标签页"}},closeRightSide:{t:0,b:{t:2,i:[{t:3}],s:"关闭右侧标签页"}}},"zh-tw":{reload:{t:0,b:{t:2,i:[{t:3}],s:"重新加載"}},close:{t:0,b:{t:2,i:[{t:3}],s:"關閉標籤頁"}},pin:{t:0,b:{t:2,i:[{t:3}],s:"固定"}},unpin:{t:0,b:{t:2,i:[{t:3}],s:"取消固定"}},maximize:{t:0,b:{t:2,i:[{t:3}],s:"最大化"}},newWindow:{t:0,b:{t:2,i:[{t:3}],s:"新窗口中打開"}},closeOtherSide:{t:0,b:{t:2,i:[{t:3}],s:"關閉其它標籤頁"}},closeLeftSide:{t:0,b:{t:2,i:[{t:3}],s:"關閉左側標籤頁"}},closeRightSide:{t:0,b:{t:2,i:[{t:3}],s:"關閉右側標籤頁"}}},en:{reload:{t:0,b:{t:2,i:[{t:3}],s:"Reload"}},close:{t:0,b:{t:2,i:[{t:3}],s:"Close"}},pin:{t:0,b:{t:2,i:[{t:3}],s:"Pin"}},unpin:{t:0,b:{t:2,i:[{t:3}],s:"Unpin"}},maximize:{t:0,b:{t:2,i:[{t:3}],s:"Maximize"}},newWindow:{t:0,b:{t:2,i:[{t:3}],s:"Open In New Window"}},closeOtherSide:{t:0,b:{t:2,i:[{t:3}],s:"Close Otherside Tabs"}},closeLeftSide:{t:0,b:{t:2,i:[{t:3}],s:"Close Leftside Tabs"}},closeRightSide:{t:0,b:{t:2,i:[{t:3}],s:"Close Rightside Tabs"}}}}})}typeof nt=="function"&&nt(lt);const ge=Wt(lt,[["__scopeId","data-v-34e0d110"]]);export{ge as default};
//# sourceMappingURL=index-DasXjfFF.js.map
